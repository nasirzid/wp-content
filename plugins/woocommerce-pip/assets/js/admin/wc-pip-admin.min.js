"use strict";(function(){jQuery(document).ready(function(c){var e,t,n,i;if(i=null!=(t=window.typenow)?t:"",e=null!=(n=window.pagenow)?n:"","shop_order"===i&&(c(".wc-pip-print-many").on("click",function(e){var t;if(t=c(this).closest("#wp-admin-message-handler-message"),c(this).closest("li").remove(),0===t.find("ul > li").length)return t.remove()}),c(".wc_pip_document").pointer({pointerClass:"wc-pip-document-actions-pointer",position:{edge:"right",align:"right"},content:function(e){var t;return t=parseInt(c(this).attr("href").replace(/^\D+/g,""),10),c("#wc-pip-pointer-order-actions-"+t).html()},buttons:function(e,t){return c('<button class="button button-large wc-pip-pointer-close">'+wc_pip_admin.i18n.close+"</button>").bind("click.pointer",function(e){return e.preventDefault(),t.element.pointer("close")})},opened:function(e){var t;return t=parseInt(c(this).attr("href").replace(/^\D+/g,""),10),c(".wc-pip-document-actions-pointer").each(function(){if(c(this).is(":visible")&&parseInt(c(this).find("input").val(),10)!==t)return c(this).find(".wc-pip-pointer-close").trigger("click")})}}).on("click",function(e){return e.preventDefault(),c(this).pointer("toggle")}),c(document).on("mouseup",function(e){var t;if((t=c(e.target))&&!t.hasClass("wc_pip_document")&&0===t.closest("div.wc-pip-document-actions-pointer").length)return c(".wc-pip-document-actions-pointer").each(function(){if(c(this).is(":visible"))return c(this).find(".wc-pip-pointer-close").trigger("click")})}),c(".bulkactions select").each(function(){var e,t,n;if((t=(n=c(this)).find("option[value^='wc_pip_']")).length)return e=c("<optgroup>").attr("label",wc_pip_admin.i18n.plugin_name).append(t.detach()),n.append(e)}),c(".wc-reload").on("click",function(e){var t,n;if("wc_pip_send_email_invoice"===(t=c("select[name=wc_order_action]").val())||"wc_pip_send_email_packing_list"===t)return e.preventDefault(),n={action:"wc_pip_order_send_email",security:wc_pip_admin.send_order_email_nonce,document:t,order_id:c("#post_ID").val()},c.post(wc_pip_admin.ajax_url,n,function(e){return e.success?window.location=e.data:console.log(e)})})),"woocommerce_page_wc-settings"===e)return c("#wc_pip_invoice_number_reset_counter").attr("checked",!1),c(".hide-options-if-checked").change(function(e){return c(this).is(":checked")?c(document).find(".hide-if-use-order-number").closest("tr").hide():c(document).find(".hide-if-use-order-number").closest("tr").show()}).change(),c("#wc_pip_invoice_number_reset_counter").change(function(e){var t,n;return t=c(this).is(":checked"),n=document.getElementById("wc_pip_invoice_number_start"),!0===t?!0===confirm(wc_pip_admin.i18n.reset_counter_warning)?n.readOnly=!1:c(this).prop("checked",!1):n.readOnly=!0}).change(),c(".wc-pip-media-upload").on("click",function(e){var n,i;e.preventDefault(),n=c(this),i?i.open():"undefined"!=typeof wp&&wp.media&&((i=wp.media.frames.file_frame=wp.media({title:c(this).data("uploader_title"),button:{text:c(this).data("uploader_button_text")},multiple:!1})).on("select",function(e){var t;return t=i.state().get("selection").first().toJSON(),n.prev(".wc-pip-media-url").val(t.url)}),i.open())})})}).call(void 0);